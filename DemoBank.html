<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Banking Patterns</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f5f7fa; }
    header { background: #1976d2; color: white; padding: 15px; text-align: center; font-size: 24px; font-weight: bold; }
    nav { display: flex; justify-content: center; background: #333; }
    nav button { flex: 1; padding: 15px; background: #333; color: white; border: none; cursor: pointer; font-size: 16px; }
    nav button.active { background: #1976d2; }
    .container { max-width: 900px; margin: 20px auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);}
    .hidden { display: none; }

    /* Common Elements */
    .btn { padding: 12px 20px; margin: 6px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
    #logs, #result, #output { margin-top: 15px; padding: 12px; background: #f1f1f1; border-radius: 8px; min-height: 50px; }

    /* Buttons */
    .btn-deposit { background: #4caf50; color: white; }
    .btn-withdraw { background: #f44336; color: white; }
    .btn-balance { background: #ff9800; color: white; }
    .place-btn { background: #1976d2; color: white; border: none; width: 100%; padding: 10px; margin-top: 10px; border-radius: 6px; }
    select { width: 100%; padding: 10px; margin-top: 10px; border: 1px solid #ccc; border-radius: 6px; }

    /* Homepage cards */
    .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-top: 20px; }
    .card { background: #e3f2fd; padding: 20px; border-radius: 12px; text-align: center; box-shadow: 0 3px 6px rgba(0,0,0,0.1); cursor: pointer; transition: transform 0.2s; }
    .card:hover { transform: scale(1.05); background: #bbdefb; }
    .emoji { font-size: 40px; display: block; margin-bottom: 10px; }
  </style>
</head>
<body>
  <header>üè¶ Banking Website (Design Patterns)</header>
  <nav>
    <button id="tab0" class="active" onclick="showTab(0)">Home</button>
    <button id="tab1" onclick="showTab(1)">Observer Pattern</button>
    <button id="tab2" onclick="showTab(2)">Strategy Pattern</button>
    <button id="tab3" onclick="showTab(3)">Command Pattern</button>
  </nav>

  <!-- HOMEPAGE -->
  <div id="content0" class="container">
    <h2>Welcome to ABC Bank</h2>
    <p>Select a service to explore how design patterns apply in banking.</p>
    <div class="grid">
      <div class="card" onclick="showTab(1)">
        <span class="emoji">üîî</span>
        <h3>Observer Pattern</h3>
        <p>Notifications when balance changes</p>
      </div>
      <div class="card" onclick="showTab(2)">
        <span class="emoji">üìä</span>
        <h3>Strategy Pattern</h3>
        <p>Loan calculations (Home, Car, Personal)</p>
      </div>
      <div class="card" onclick="showTab(3)">
        <span class="emoji">‚öôÔ∏è</span>
        <h3>Command Pattern</h3>
        <p>Execute banking actions (Deposit, Withdraw)</p>
      </div>
    </div>
  </div>

  <!-- OBSERVER PATTERN -->
  <div id="content1" class="container hidden">
    <h2>Observer Pattern ‚Äì Account Notifications</h2>
    <p>When account balance changes, both customer and bank system get notified.</p>
    <button class="btn btn-deposit" onclick="updateBalance('Deposited ‚Çπ500')">Deposit ‚Çπ500</button>
    <button class="btn btn-withdraw" onclick="updateBalance('Withdrew ‚Çπ200')">Withdraw ‚Çπ200</button>
    <button class="btn btn-balance" onclick="updateBalance('Checked Balance')">Check Balance</button>
    <div id="logs"></div>
  </div>

  <!-- STRATEGY PATTERN -->
  <div id="content2" class="container hidden">
    <h2>Strategy Pattern ‚Äì Loan Calculation</h2>
    <label><b>Select Loan Type:</b></label>
    <select id="loanOption">
      <option value="home">Home Loan (8% Interest)</option>
      <option value="car">Car Loan (10% Interest)</option>
      <option value="personal">Personal Loan (12% Interest)</option>
    </select>
    <button class="place-btn" onclick="calculateLoan()">Calculate EMI</button>
    <div id="result"></div>
  </div>

  <!-- COMMAND PATTERN -->
  <div id="content3" class="container hidden">
    <h2>Command Pattern ‚Äì Banking Actions</h2>
    <button class="btn btn-deposit" onclick="depositCmd()">Deposit</button>
    <button class="btn btn-withdraw" onclick="withdrawCmd()">Withdraw</button>
    <button class="btn btn-balance" onclick="checkBalanceCmd()">Check Balance</button>
    <div id="output"></div>
  </div>

  <script>
    // Tab Switching
    function showTab(n) {
      document.querySelectorAll("nav button").forEach(btn => btn.classList.remove("active"));
      document.querySelectorAll(".container").forEach(div => div.classList.add("hidden"));
      document.getElementById("tab"+n).classList.add("active");
      document.getElementById("content"+n).classList.remove("hidden");
    }

    // ========== OBSERVER PATTERN ==========
    class BankAccount {
      constructor() { this.observers = []; this.action = ""; }
      addObserver(observer) { this.observers.push(observer); }
      notifyObservers() { this.observers.forEach(o => o.update(this.action)); }
      setAction(action) { this.action = action; this.notifyObservers(); }
    }
    class Customer {
      update(action) { document.getElementById("logs").innerHTML += `<p>üë§ Customer: ${action}</p>`; }
    }
    class BankSystem {
      update(action) { document.getElementById("logs").innerHTML += `<p>üè¶ Bank System: ${action}</p>`; }
    }
    const account = new BankAccount();
    account.addObserver(new Customer());
    account.addObserver(new BankSystem());
    function updateBalance(action) { account.setAction(action); }

    // ========== STRATEGY PATTERN ==========
    class HomeLoan { calculate() { return "üè† Home Loan EMI at 8% interest: ‚Çπ25,000/month"; } }
    class CarLoan { calculate() { return "üöó Car Loan EMI at 10% interest: ‚Çπ12,000/month"; } }
    class PersonalLoan { calculate() { return "üí≥ Personal Loan EMI at 12% interest: ‚Çπ8,000/month"; } }
    class LoanContext {
      setStrategy(strategy) { this.strategy = strategy; }
      executeStrategy() { return this.strategy.calculate(); }
    }
    function calculateLoan() {
      const option = document.getElementById("loanOption").value;
      const context = new LoanContext();
      if (option === "home") context.setStrategy(new HomeLoan());
      if (option === "car") context.setStrategy(new CarLoan());
      if (option === "personal") context.setStrategy(new PersonalLoan());
      document.getElementById("result").innerHTML = "<p><b>" + context.executeStrategy() + "</b></p>";
    }

    // ========== COMMAND PATTERN ==========
    class BankingSystem {
      deposit() { return "‚úÖ ‚Çπ500 deposited successfully."; }
      withdraw() { return "‚ùå ‚Çπ200 withdrawn."; }
      checkBalance() { return "üìä Current Balance: ‚Çπ10,000"; }
    }
    class Command { execute() {} }
    class DepositCommand extends Command { constructor(system){super();this.system=system;} execute(){return this.system.deposit();} }
    class WithdrawCommand extends Command { constructor(system){super();this.system=system;} execute(){return this.system.withdraw();} }
    class CheckBalanceCommand extends Command { constructor(system){super();this.system=system;} execute(){return this.system.checkBalance();} }
    class AccountInvoker {
      setCommand(command){ this.command = command; }
      executeCommand(){ return this.command.execute(); }
    }
    const bankSystem = new BankingSystem();
    const invoker = new AccountInvoker();
    function depositCmd(){ invoker.setCommand(new DepositCommand(bankSystem)); print(invoker.executeCommand()); }
    function withdrawCmd(){ invoker.setCommand(new WithdrawCommand(bankSystem)); print(invoker.executeCommand()); }
    function checkBalanceCmd(){ invoker.setCommand(new CheckBalanceCommand(bankSystem)); print(invoker.executeCommand()); }
    function print(msg){ document.getElementById("output").innerHTML += "<p>" + msg + "</p>"; }
  </script>
</body>
</html>
